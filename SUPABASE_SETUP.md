# üîß –ù–ê–°–¢–†–û–ô–ö–ê SUPABASE –î–õ–Ø KARMABOT

## üö® –ü–†–û–ë–õ–ï–ú–ê
–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –≤–º–µ—Å—Ç–æ PostgreSQL (Supabase), –ø–æ—ç—Ç–æ–º—É —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Supabase
1. –ó–∞–π—Ç–∏ –≤ [Supabase Dashboard](https://supabase.com/dashboard)
2. –í—ã–±—Ä–∞—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Settings** ‚Üí **Database**
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å **Connection string** (URI)

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# Supabase PostgreSQL
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# –í–∫–ª—é—á–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
APPLY_MIGRATIONS=1

# –î—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
BOT_TOKEN=your_bot_token
REDIS_URL=redis://localhost:6379/0
```

#### –î–ª—è Railway (Production):
–í Railway Dashboard ‚Üí Variables –¥–æ–±–∞–≤–∏—Ç—å:
```
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
APPLY_MIGRATIONS=1
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
python test_supabase_functions.py
```

## üîç –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `DATABASE_URL` —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ PostgreSQL (Supabase)
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–∑–≤–æ–ª—è—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- ‚úÖ –ü–æ–∑–≤–æ–ª—è—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å DATABASE_URL** –¥–ª—è Supabase
2. **–í–∫–ª—é—á–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏** (APPLY_MIGRATIONS=1)
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏** —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebApp** –∫–∞–±–∏–Ω–µ—Ç—ã

## üÜò –ï–°–õ–ò –ù–ï–¢ SUPABASE –ü–†–û–ï–ö–¢–ê

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:
1. –ó–∞–π—Ç–∏ –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞–∂–∞—Ç—å **"New Project"**
3. –í—ã–±—Ä–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
4. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
5. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å
6. –í—ã–±—Ä–∞—Ç—å —Ä–µ–≥–∏–æ–Ω
7. –ù–∞–∂–∞—Ç—å **"Create new project"**
8. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–∏—è (2-3 –º–∏–Ω—É—Ç—ã)
9. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Connection string –∏–∑ Settings ‚Üí Database
