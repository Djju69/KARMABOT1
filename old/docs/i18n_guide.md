# üåê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ i18n (–º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏)

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É i18n —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é. –û—Å–Ω–æ–≤–Ω—ã–µ —è–∑—ã–∫–∏: RU, EN, VI, KO.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:
- `locales/ru.json` - —Ä—É—Å—Å–∫–∏–π (—ç—Ç–∞–ª–æ–Ω–Ω—ã–π)
- `locales/en.json` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- `locales/deprecated.json` - —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–ª—é—á–∏
- `core/utils/locales_v2.py` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã

### –ù–µ–π–º—Å–ø–µ–π—Å—ã:
- `common.*` - –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥, –¥–µ–π—Å—Ç–≤–∏—è)
- `keyboard.*` - –∫–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- `menu.*` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é
- `partner.*` - –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `admin.*` - –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `user.*` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `errors.*` - —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- `messages.*` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π

### 1. –î–æ–±–∞–≤–∏—Ç—å –≤ JSON —Ñ–∞–π–ª—ã:
```json
// locales/ru.json
{
  "new_key": "–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç"
}

// locales/en.json  
{
  "new_key": "New text"
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –≤ locales_v2.py (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```python
translations_v2 = {
    'ru': {
        'new_key': '–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç'
    },
    'en': {
        'new_key': 'New text'
    }
}
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ:
```python
from core.utils.locales_v2 import get_text

text = get_text('new_key', lang='ru')
```

## üîÑ –°–∏—Å—Ç–µ–º–∞ –∞–ª–∏–∞—Å–æ–≤

–î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ –∞–ª–∏–∞—Å–æ–≤:

```python
ALIASES = {
    "back_to_main": "menu.back_to_main_menu",
    "back_to_main_menu": "menu.back_to_main_menu", 
    "back_simple": "common.back_simple",
    "back_to_partner_menu": "partner.back_to_partner_menu",
    "profile_settings": "keyboard.profile_settings"
}
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `get_text('back_to_main', 'ru')`
2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–ª–∏–∞—Å—ã
3. –ù–∞—Ö–æ–¥–∏—Ç `back_to_main` ‚Üí `menu.back_to_main_menu`
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è `menu.back_to_main_menu`

## üóëÔ∏è –ü–æ–º–µ—á–∞–Ω–∏–µ –∫–ª—é—á–µ–π –∫–∞–∫ deprecated

### 1. –î–æ–±–∞–≤–∏—Ç—å –≤ deprecated.json:
```json
{
  "_comment": "Deprecated i18n keys - kept for backward compatibility",
  "_deprecated_keys": {
    "old_key": "Use 'new_key' instead"
  },
  "old_key": "–°—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å:
```python
ALIASES = {
    "old_key": "new_key"
}
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## ‚è∞ –°—Ä–æ–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è deprecated –∫–ª—é—á–µ–π

- **–ú–∏–Ω–∏–º—É–º 2 —Ä–µ–ª–∏–∑–∞** - –∞–ª–∏–∞—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å
- **–ü–æ—Å–ª–µ 2 —Ä–µ–ª–∏–∑–æ–≤** - –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —á–µ—Ä–µ–∑ RFC
- **–ö—Ä–∏—Ç–∏—á–Ω–æ:** –Ω–µ —É–¥–∞–ª—è—Ç—å –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è!

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ—Ç–µ—Å—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:
```bash
python tests/test_i18n_consistency.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∏:
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–π –≤–æ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- ‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∞–ª–∏–∞—Å–æ–≤

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–π:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `snake_case`
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ –Ω–µ–π–º—Å–ø–µ–π—Å–∞–º
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä—ã:
```python
# ‚úÖ –•–æ—Ä–æ—à–æ
'common.back_simple'
'keyboard.profile_settings'
'menu.back_to_main_menu'
'partner.add_card'

# ‚ùå –ü–ª–æ—Ö–æ
'back'
'prof_set'
'menu_back'
```

### –ó–Ω–∞—á–µ–Ω–∏—è:
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —ç–º–æ–¥–∑–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Markdown –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫

## üö® –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–ï —É–¥–∞–ª—è–π—Ç–µ** —Å—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏ —Å—Ä–∞–∑—É
2. **–ù–ï –º–µ–Ω—è–π—Ç–µ** —Ç–µ–∫—Å—Ç—ã UI –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
3. **–í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π—Ç–µ** –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
4. **–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** –∞–ª–∏–∞—Å—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
5. **–¢–ï–°–¢–ò–†–£–ô–¢–ï** –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üîß –£—Ç–∏–ª–∏—Ç—ã

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç—ã:
```python
from core.utils.locales_v2 import get_all_texts
texts = get_all_texts('ru')
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:
```python
from core.utils.locales_v2 import get_supported_languages
langs = get_supported_languages()  # ['ru', 'en', 'ko', 'vi']
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞:
```python
from core.utils.locales_v2 import get_text
try:
    text = get_text('key', 'ru')
    if text.startswith('[') and text.endswith(']'):
        print(f"Key 'key' not found")
except:
    print("Error getting text")
```
