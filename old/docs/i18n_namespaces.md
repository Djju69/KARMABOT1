# üè∑Ô∏è –ù–µ–π–º—Å–ø–µ–π—Å—ã i18n

## üìã –û–±–∑–æ—Ä –Ω–µ–π–º—Å–ø–µ–π—Å–æ–≤

–°–∏—Å—Ç–µ–º–∞ i18n –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø–æ –Ω–µ–π–º—Å–ø–µ–π—Å–∞–º –¥–ª—è –ª—É—á—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–π–º—Å–ø–µ–π—Å–æ–≤

### `common.*` - –û–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
–≠–ª–µ–º–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Å–µ—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```json
{
  "common.back_simple": "‚óÄÔ∏è –ù–∞–∑–∞–¥",
  "common.cancel": "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å", 
  "common.save": "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
  "common.edit": "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",
  "common.delete": "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å",
  "common.next": "‚û°Ô∏è –î–∞–ª–µ–µ",
  "common.skip": "‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
}
```

### `keyboard.*` - –ö–Ω–æ–ø–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
–¢–µ–∫—Å—Ç—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫ Reply –∏ Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä.

```json
{
  "keyboard.profile_settings": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
  "keyboard.referral_program": "üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞",
  "keyboard.my_referral_link": "üîó –ú–æ—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞",
  "keyboard.points": "üí∞ –ú–æ–∏ –±–∞–ª–ª—ã",
  "keyboard.history": "üìú –ò—Å—Ç–æ—Ä–∏—è"
}
```

### `menu.*` - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é
–≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏.

```json
{
  "menu.back_to_main_menu": "‚óÄÔ∏è –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
  "menu.categories": "üóÇÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
  "menu.favorites": "‚≠ê –ò–∑–±—Ä–∞–Ω–Ω—ã–µ",
  "menu.invite_friends": "üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π",
  "menu.profile": "üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
}
```

### `partner.*` - –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤.

```json
{
  "partner.back_to_partner_menu": "‚óÄÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
  "partner.add_card": "‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É",
  "partner.my_cards": "üìã –ú–æ–∏ –∫–∞—Ä—Ç–æ—á–∫–∏",
  "partner.statistics": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
  "partner.scan_qr": "üßæ –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR"
}
```

### `admin.*` - –ê–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.

```json
{
  "admin.moderation": "üîç –ú–æ–¥–µ—Ä–∞—Ü–∏—è",
  "admin.approve_card": "‚úÖ –û–¥–æ–±—Ä–∏—Ç—å",
  "admin.reject_card": "‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å",
  "admin.statistics": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
  "admin.dashboard": "üìä –î–∞—à–±–æ—Ä–¥"
}
```

### `user.*` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

```json
{
  "user.profile_title": "üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç",
  "user.points": "üí∞ –ú–æ–∏ –±–∞–ª–ª—ã",
  "user.history": "üìú –ò—Å—Ç–æ—Ä–∏—è",
  "user.achievements": "üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
  "user.qr_codes": "üì± QR-–∫–æ–¥—ã"
}
```

### `errors.*` - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
–û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.

```json
{
  "errors.not_found": "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ",
  "errors.access_denied": "üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω",
  "errors.invalid_input": "‚ö†Ô∏è –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥",
  "errors.server_error": "üî• –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
  "errors.network_error": "üåê –û—à–∏–±–∫–∞ —Å–µ—Ç–∏"
}
```

### `messages.*` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

```json
{
  "messages.success": "‚úÖ –£—Å–ø–µ—à–Ω–æ",
  "messages.saved": "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",
  "messages.loading": "‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...",
  "messages.welcome": "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
  "messages.goodbye": "üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"
}
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π

### –°—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏ ‚Üí –ù–æ–≤—ã–µ –Ω–µ–π–º—Å–ø–µ–π—Å—ã

| –°—Ç–∞—Ä—ã–π –∫–ª—é—á | –ù–æ–≤—ã–π –Ω–µ–π–º—Å–ø–µ–π—Å | –ü—Ä–∏—á–∏–Ω–∞ |
|-------------|-----------------|---------|
| `back_to_main` | `menu.back_to_main_menu` | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é |
| `back_simple` | `common.back_simple` | –û–±—â–∏–π —ç–ª–µ–º–µ–Ω—Ç |
| `profile_settings` | `keyboard.profile_settings` | –ö–Ω–æ–ø–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã |
| `back_to_partner_menu` | `partner.back_to_partner_menu` | –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è |

### –ê–ª–∏–∞—Å—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

```python
ALIASES = {
    "back_to_main": "menu.back_to_main_menu",
    "back_to_main_menu": "menu.back_to_main_menu", 
    "back_simple": "common.back_simple",
    "back_to_partner_menu": "partner.back_to_partner_menu",
    "profile_settings": "keyboard.profile_settings"
}
```

## üìù –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–∞:
```
{namespace}.{action}_{object}
```

### 2. –ü—Ä–∏–º–µ—Ä—ã:
```python
# ‚úÖ –•–æ—Ä–æ—à–æ
'common.back_simple'
'keyboard.profile_settings'
'menu.back_to_main_menu'
'partner.add_card'
'admin.approve_card'
'user.view_profile'
'errors.not_found'
'messages.success'

# ‚ùå –ü–ª–æ—Ö–æ
'back'
'prof_set'
'menu_back'
'addcard'
'approve'
'viewprofile'
'notfound'
'success'
```

### 3. –°–æ–≥–ª–∞—à–µ–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `snake_case`
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π
- –ë—É–¥—å—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–π–º—Å–ø–µ–π—Å–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```python
def test_namespace_structure():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π–º—Å–ø–µ–π—Å–æ–≤"""
    namespaces = ['common', 'keyboard', 'menu', 'partner', 'admin', 'user', 'errors', 'messages']
    
    for lang in ['ru', 'en']:
        texts = get_all_texts(lang)
        for key in texts.keys():
            if '.' in key:
                namespace = key.split('.')[0]
                assert namespace in namespaces, f"Unknown namespace: {namespace} in key {key}"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–∏–∞—Å–æ–≤:
```python
def test_aliases_valid():
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∞–ª–∏–∞—Å–æ–≤"""
    for old_key, new_key in ALIASES.items():
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–æ–≤—ã–π –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        assert get_text(new_key, 'ru') != f"[{new_key}]", f"Alias target {new_key} not found"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∞–ª–∏–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
        old_value = get_text(old_key, 'ru')
        new_value = get_text(new_key, 'ru')
        assert old_value == new_value, f"Alias {old_key} -> {new_key} values don't match"
```

## üöÄ –ë—É–¥—É—â–∏–µ –Ω–µ–π–º—Å–ø–µ–π—Å—ã

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
- `qr.*` - QR-–∫–æ–¥—ã –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `payment.*` - –ü–ª–∞—Ç–µ–∂–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `notification.*` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `settings.*` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `help.*` - –°–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
1. –°–æ–∑–¥–∞—Ç—å RFC —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
2. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–π–º—Å–ø–µ–π—Å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
4. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
5. –û–±–Ω–æ–≤–∏—Ç—å –∞–ª–∏–∞—Å—ã

